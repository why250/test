
基于您提供的 `README.md` [1] 和之前的 SRS 结构，为您补充编写的“用例/用户操作流程”章节如下：

---

# 软件需求规格说明书 (SRS) v1.0 (补充)

## 7. 用例与用户操作流程 (User Operations)

本章定义了用户与软件交互的标准流程，涵盖从环境准备到生成测试报告的全过程。

### 7.1 UC-01: 上电测试流程 (Power On Test)

**前置条件**：

* DP 电源与 PC 已物理连接。
* 根目录下已准备好 `visa.txt`（连接地址）、`Power_on_config.txt`（上电参数）和 `Power_limit_config.txt`（判决门限）[1]。

**操作步骤**：

1. **启动软件**：双击运行程序，进入主界面。
2. **建立连接**：点击“连接设备”按钮，软件自动读取 `visa.txt` 并初始化 VISA 资源。
   * *系统响应*：状态栏显示“DP2031 Connected”。
3. **执行上电**：点击“开始上电 (Power On)”按钮。
   * *系统响应*：软件读取 `Power_on_config.txt`，按定义的顺序（如 DP1->DP2->DP3）依次打开通道 [1]。
   * *系统响应*：软件读取实际电流值，并根据 `Power_limit_config.txt` 进行 Pass/Fail 判定 [1]。
4. **查看结果**：
   * 界面日志区实时显示：“CH1 Current: 0.45A (Pass)”。
   * 测试结束后，用户前往程序根目录查看自动生成的报告文件 `Power_on_result_{时间戳}.txt` [1]。

### 7.2 UC-02: 下电测试流程 (Power Off Test)

**前置条件**：

* 设备当前处于上电状态。
* `Power_on_config.txt` 文件存在且有效（作为下电顺序的参考逆序）[1]。

**操作步骤**：

1. **执行下电**：在软件主界面点击“开始下电 (Power Off)”按钮。
2. **系统执行**：
   * *系统响应*：软件解析配置，按照与上电**相反**的顺序（如 DP3->DP2->DP1）关闭通道输出 [1]。
3. **确认状态**：查看界面日志提示“All Channels OFF”，确认电源面板输出已关闭。

### 7.3 UC-03: DAC 与电源参数配置 (Configuration)

**前置条件**：

* DAC 通过串口连接，DP 电源通过 VISA 连接。
* 已准备好 `DAC_Config.txt` 和 `Power_Config.txt` [1]。

**操作步骤**：

1. **加载配置**：点击“加载配置文件”或分别点击“配置 DAC / 配置电源”。
2. **执行配置**：
   * **DAC 配置**：软件读取 `DAC_Config.txt`，将档位/电压转换为 16bit DAC 码，并通过串口发送 `OUTPUT` 命令 [1]。
   * **电源配置**：软件读取 `Power_Config.txt`，设置对应通道的电压与限流值 [1]。
3. **验证**：用户通过外部万用表或示波器验证输出值是否更新。

### 7.4 UC-04: 直流线性度测试 (DC Linearity Test)

**前置条件**：

* 万用表 (DM) 已连接并配置好通信。
* 选择输入源：连接 DAC 通道或信号发生器 (DG) [1]。

**操作步骤**：

1. **参数设置**：
   * 在界面“线性度测试”区域，选择输入源模式（DAC 扫描 或 DG 扫描）[1]。
   * 输入扫描参数：**初值**（如 -0.2）、**终值**（如 0.2）、**步进**（如 0.01）[1]。
   * 设置保存路径（默认为 `./results`）[1]。
2. **开始测试**：点击“开始线性度扫描”按钮。
3. **自动化执行**：
   * *系统动作*：循环执行“设置输入源电压 -> 等待稳定 -> 读取万用表数值”。
   * *界面反馈*：进度条更新，实时显示当前电压点。
4. **生成报告**：
   * 扫描完成后，软件自动计算 **Gain、Offset、DNL、INL** [1]。
   * 界面弹窗显示“输入-输出参数”关系图表 [1]。
   * 用户进入 `./results` 目录，打开 `dc_linearity_result_{时间戳}.txt` 查看详细数据 [1]。
